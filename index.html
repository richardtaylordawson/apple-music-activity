<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title of the document</title>
</head>

<body>
    <input type="file" id="file"/>
</body>

<script>
    document.getElementById("file").addEventListener("change", (e) => {
        let files = e.target.files;

        for (var i = 0, f; f = files[i]; i++) {
            // // Only process image files.
            // if (!f.type.match('image.*')) {
            // continue;
            // }

            var reader = new FileReader();

            // Closure to capture the file information.
            reader.onload = (function(theFile) {
                return function(e) {
                    var csv = e.target.result;

                    var lines = csv.split("\n");

                    var result = [];

                    var headers=lines[0].split(",");

                    for(var i=1;i<lines.length;i++){

                        var obj = {};
                        var currentline=lines[i].split(",");

                        for(var j=0;j<headers.length;j++){
                            obj[headers[j]] = currentline[j];
                        }

                        result.push(obj);

                    }

                    result.forEach((activity) => {
                        for(var attribute in activity) {
                            console.log(attribute["Store Country Name"]);
                        }
                    });
                };
            })(f);

            // Read in the image file as a data URL.
            reader.readAsText(f);
        }
    });
</script>
</html>
